<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>チャットボットUI</title>
    <!-- Material Icons のスタイルシートを追加 -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!-- カスタムCSSの追加 -->
    <link rel="stylesheet" href="https://miibo.jp/chat3.css">
</head>
<body>
    <script>
        function addStylesheet(href) {
            let link = document.createElement('link');
            link.href = href;
            link.rel = 'stylesheet';
            document.head.appendChild(link);
        }

        function createToggleButton() {
            const toggleBtn = document.createElement('div');
            toggleBtn.id = 'chatbot-toggle_button';
            const anchor = document.createElement('a');
            anchor.id = 'chat-button';
            anchor.href = '#';
            anchor.addEventListener('click', event => {
                event.preventDefault();
                toggleChatbox();
            });
            const img = document.createElement('img');
            img.src = 'https://firebasestorage.googleapis.com/v0/b/mabo-f1cc7.appspot.com/o/chaticon.png?alt=media&token=1777070f-a83c-403d-8c83-f387f68ecd52';
            img.width = '100';
            img.height = '100';
            anchor.appendChild(img);
            toggleBtn.appendChild(anchor);
            document.body.appendChild(toggleBtn);
        }

        function createChatboxHeader() {
            const header = document.createElement('div');
            header.id = 'chatbot-header';
            header.style.background = '#4169e1';
            const logo = document.createElement('div');
            logo.id = 'chatbot-logo';
            logo.innerText = '美術譜miil';
            const closeIcon = document.createElement('i');
            closeIcon.id = 'chatbot-close-icon';
            closeIcon.className = 'material-icons material-symbols-outlined waves-light';
            closeIcon.innerText = 'close';
            closeIcon.addEventListener('click', event => {
                event.preventDefault();
                toggleChatbox();
            });
            header.appendChild(logo);
            header.appendChild(closeIcon);
            return header;
        }

        function createChatbox() {
            const chatbox = document.createElement('div');
            chatbox.id = 'chatbot';
            chatbox.style.display = 'none';

            const header = createChatboxHeader();
            const body = document.createElement('div');
            body.id = 'chatbot-body';
            const iframe = document.createElement('iframe');
            iframe.id = 'inline-frame';
            iframe.width = '100%';
            iframe.height = '100%';
            iframe.src = 'https://example.com'; // Correct the URL here
            body.appendChild(iframe);
            chatbox.appendChild(header);
            chatbox.appendChild(body);
            document.body.appendChild(chatbox);
        }

        function toggleChatbox() {
            const chatbox = document.getElementById('chatbot');
            if (chatbox.style.display === 'none') {
                chatbox.style.display = 'block';
            } else {
                chatbox.style.display = 'none';
            }
        }

        addStylesheet('https://fonts.googleapis.com/icon?family=Material+Icons');
        createToggleButton();
        createChatbox();
    </script>
</body>
</html>
